<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN" "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">

<hibernate-mapping>
	<class name="nl.doyle.mccloud.tourdefrance.valueobjects.Deelnemer" table="DEELNEMER">
        <id name="nummer" column="NUMMER">
           <!-- Primary key generator gebruiken we niet omdat de primary key het deelnemernummer is 
           		<generator class="native"/>  
           -->
        </id>
        <!-- Type geeft aan waar de java.util.Date op moet mappen (SQL date, timestamp of time -->
        <property name="voornaam" column="VOORNAAM"/>
        <property name="achternaam" column="ACHTERNAAM"/>
        <property name="email" column="EMAIL"/>
        <property name="rekeningnummer" column="REKENINGNUMMER"/>
        
        <!-- Zie hoofdstuk 7.3 van de Hibernate Reference Manual voor de uitleg van deze mapping -->
        <set name="renners" table="DEELNEMER_RENNER" cascade="all" lazy="true" order-by="RENNERNUMMER asc">
        	<key column="DEELNEMERNUMMER" not-null="false"/>
        	<many-to-many column="RENNERNUMMER" unique="true" class="nl.doyle.mccloud.tourdefrance.valueobjects.Renner" />
        </set>
    </class>
</hibernate-mapping>